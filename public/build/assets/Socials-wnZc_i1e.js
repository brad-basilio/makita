var E=Object.defineProperty;var N=(t,o,a)=>o in t?E(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a;var R=(t,o,a)=>N(t,typeof o!="symbol"?o+"":o,a);import{j as i}from"./AboutSimple-Cf8x2fCZ.js";import{B as C}from"./Base-CrLrAwBj.js";import{I as B}from"./InputFormGroup-D5I6zpZc.js";import{S as D}from"./SelectFormGroup-YqB1XVb8.js";import{S as y}from"./SwitchFormGroup-CGYpv_4Q.js";import{T as G}from"./TextareaFormGroup-DVzYJtLM.js";import{r as s}from"./index-BH53Isel.js";import{c as I}from"./ReactAppend-DTVVXReZ.js";import{s as g}from"./server.browser-Bf4gQIc7.js";import{S as v}from"./ProductCard-Ap6bpF1Q.js";import{B as q}from"./BasicRest-9qsOCV42.js";import{M as A}from"./Modal-CIqmjseY.js";import{T as M}from"./Table-DitbKwtZ.js";import{D as S}from"./DxButton-DV0H-ZcL.js";import{C as P}from"./CreateReactScript-BoGwggCx.js";import{R as z}from"./ReactAppend-D7S498fx.js";import{F as L,a as U,b as V,c as W,d as Y,e as O,f as X,g as _,h as H,i as J,j as K,k as Q}from"./index-TYZL9ISz.js";import"./index-yBjzXJbu.js";import"./Global-ErywZRdd.js";import"./tippy-react.esm-BWiGTO87.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";/* empty css              */import"./Logout-7s5dsuEK.js";import"./main-BvVILmTO.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./MenuItemContainer-C_dOKkRB.js";import"./index.esm-DAJ8Pwbk.js";import"./index-xsH4HHeE.js";import"./index-CMHsc23u.js";/* empty css               */import"./General-BmbBKdsB.js";import"./LaravelSession-Dz9cpV3l.js";class Z extends q{constructor(){super(...arguments);R(this,"path","admin/socials")}}const f=new Z,d=[{id:"facebook",name:"Facebook",icon:L,iconRef:"fab fa-facebook"},{id:"instagram",name:"Instagram",icon:U,iconRef:"fab fa-instagram"},{id:"twitter",name:"Twitter/X",icon:V,iconRef:"fab fa-twitter"},{id:"linkedin",name:"LinkedIn",icon:W,iconRef:"fab fa-linkedin"},{id:"youtube",name:"YouTube",icon:Y,iconRef:"fab fa-youtube"},{id:"tiktok",name:"TikTok",icon:O,iconRef:"fab fa-tiktok"},{id:"whatsapp",name:"WhatsApp",icon:X,iconRef:"fab fa-whatsapp"},{id:"telegram",name:"Telegram",icon:_,iconRef:"fab fa-telegram"},{id:"discord",name:"Discord",icon:H,iconRef:"fab fa-discord"},{id:"snapchat",name:"Snapchat",icon:J,iconRef:"fab fa-snapchat"},{id:"pinterest",name:"Pinterest",icon:K,iconRef:"fab fa-pinterest"},{id:"reddit",name:"Reddit",icon:Q,iconRef:"fab fa-reddit"}],ee=({})=>{const t=s.useRef(),o=s.useRef(),a=s.useRef(),c=s.useRef(),u=s.useRef(),p=s.useRef(),[j,b]=s.useState(!1),[l,h]=s.useState(null),k=e=>{const n=d.find(r=>r.id===e);h(n)};s.useEffect(()=>{const e=()=>{c.current&&$(c.current).on("change",function(){const n=$(this).val();k(n)})};return $(o.current).on("shown.bs.modal",e),()=>{c.current&&$(c.current).off("change"),$(o.current).off("shown.bs.modal",e)}},[]);const x=e=>{e!=null&&e.id?b(!0):b(!1),a.current.value=(e==null?void 0:e.id)??"",u.current.value=(e==null?void 0:e.name)??"",p.current.value=(e==null?void 0:e.link)??"";const n=d.find(r=>r.name===(e==null?void 0:e.description)||r.iconRef===(e==null?void 0:e.icon));n?(h(n),setTimeout(()=>{$(c.current).val(n.id).trigger("change")},100)):(h(null),setTimeout(()=>{$(c.current).val("").trigger("change")},100)),$(o.current).modal("show")},w=async e=>{if(e.preventDefault(),!l){v.fire("Error","Por favor selecciona una red social","error");return}const n={id:a.current.value||void 0,icon:l.iconRef,name:u.current.value,description:l.name,link:p.current.value};await f.save(n)&&($(t.current).dxDataGrid("instance").refresh(),$(o.current).modal("hide"))},F=async({id:e,value:n})=>{await f.boolean({id:e,field:"visible",value:n})&&$(t.current).dxDataGrid("instance").refresh()},T=async e=>{const{isConfirmed:n}=await v.fire({title:"Eliminar registro",text:"Â¿Estas seguro de eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!n||!await f.delete(e)||$(t.current).dxDataGrid("instance").refresh()};return i.jsxs(i.Fragment,{children:[i.jsx(M,{gridRef:t,title:"Redes Sociales",rest:f,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(t.current).dxDataGrid("instance").refresh()}}),e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nuevo registro",hint:"Nuevo registro",onClick:()=>x()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"name",caption:"Usuario"},{dataField:"description",caption:"Red Social",cellTemplate:(e,{data:n})=>{const r=d.find(m=>m.name===n.description||m.iconRef===n.icon);if(r){const m=r.icon;e.html(g.renderToString(i.jsxs("span",{className:"d-flex align-items-center",children:[i.jsx(m,{className:"me-2",size:16}),n.description]})))}else e.html(g.renderToString(i.jsxs(i.Fragment,{children:[i.jsx("i",{className:`fab ${n.icon} me-1`}),n.description]})))}},{dataField:"link",caption:"Link"},{dataField:"visible",caption:"Visible",dataType:"boolean",cellTemplate:(e,{data:n})=>{$(e).empty(),z(e,i.jsx(y,{checked:n.visible==1,onChange:()=>F({id:n.id,value:!n.visible})}))}},{caption:"Acciones",cellTemplate:(e,{data:n})=>{e.css("text-overflow","unset"),e.append(S({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>x(n)})),e.append(S({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>T(n.id)}))},allowFiltering:!1,allowExporting:!1}]}),i.jsx(A,{modalRef:o,title:j?"Editar red social":"Agregar red social",onSubmit:w,size:"md",children:i.jsxs("div",{className:"row",id:"socials-container",children:[i.jsx("input",{ref:a,type:"hidden"}),i.jsxs("div",{className:"col-12 mb-3",children:[i.jsxs("label",{className:"form-label",children:["Red Social ",i.jsx("span",{className:"text-danger",children:"*"})]}),i.jsxs(D,{eRef:c,dropdownParent:"#socials-container",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar red social..."}),d.map(e=>i.jsx("option",{value:e.id,children:e.name},e.id))]})]}),l&&i.jsx("div",{className:"col-12 mb-3",children:i.jsxs("div",{className:"alert alert-info d-flex align-items-center",children:[i.jsx(l.icon,{className:"me-2",size:20}),i.jsxs("span",{children:["Red social seleccionada: ",i.jsx("strong",{children:l.name})]})]})}),i.jsx(B,{eRef:u,label:"Usuario/Nombre de cuenta",col:"col-12",required:!0}),i.jsx(G,{eRef:p,label:"Enlace (https://...)",col:"col-12",rows:2,required:!0})]})})]})};P((t,o)=>{I.createRoot(t).render(i.jsx(C,{...o,title:"Redes Sociales",children:i.jsx(ee,{...o})}))});
