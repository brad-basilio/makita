import{j as a}from"./AboutSimple-Cf8x2fCZ.js";import{r as m}from"./index-BH53Isel.js";import{m as u}from"./main-BvVILmTO.js";const k=({id:o,col:x,label:j,eRef:n,required:p=!1,dropdownParent:f,searchAPI:g,searchBy:c,multiple:d=!1,filter:t=null,onChange:h=()=>{},templateResult:N,templateSelection:E,tags:S})=>(n||(n=m.useRef()),o||(o=`select-${crypto.randomUUID()}`),m.useEffect(()=>{$(n.current).select2({dropdownParent:f,minimumInputLength:0,tags:S,ajax:{url:g,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(u.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:s,page:i}){const e=[c,"contains",s||""];let r=e;if(t&&Array.isArray(t)&&t.length>=3){const l=t[2];l!=null&&l!==""&&l!=="null"&&(r=[e,"and",t])}return u.JSON.stringify({sort:[{selector:c,desc:!1}],skip:((i??1)-1)*10,take:10,filter:r})},processResults:function(s,{page:i}){return{results:((s==null?void 0:s.data)??[]).map(e=>{const r=u.JSON.flatten(e);return{id:e.id,text:r[c],data:e}}),pagination:{more:(i??1)*10<s.totalCount}}}},templateResult:N,templateSelection:E})},[f,t]),m.useEffect(()=>{$(n.current).on("change",h)},[t]),a.jsxs("div",{className:`form-group ${x} mb-2`,children:[a.jsxs("label",{htmlFor:o,className:"mb-1",children:[j," ",p&&a.jsx("b",{className:"text-danger",children:"*"})]}),a.jsx("select",{ref:n,id:o,required:p,className:"form-control",style:{width:"100%"},multiple:d})]}));export{k as S};
