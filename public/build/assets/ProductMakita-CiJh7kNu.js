import{j as t}from"./AboutSimple-Cf8x2fCZ.js";import{S as B,a as k}from"./BlogCarousel-CCgb3gK1.js";import{N as E}from"./navigation-cW_iC-Qg.js";import{G as z}from"./grid-BZ4EKnFQ.js";/* empty css               */import"./InfiniteCategory-BtlY-czj.js";/* empty css             */import{r}from"./index-BH53Isel.js";import{a as M}from"./adjustTextColor-FzLvY4Q1.js";import{C as D,a as V,b as F}from"./CompareDetailsModal-BrD7e-qt.js";import{C as L}from"./chevron-left-B2s3ZsB7.js";import{C as O}from"./chevron-right-Ckt5D2ka.js";import"./index-yBjzXJbu.js";import"./create-element-if-not-defined-GPUxtyu9.js";import"./chevron-up-D78jyEhP.js";import"./createLucideIcon-Cy5Ya80P.js";import"./chevron-down-DS-mdh9v.js";import"./x-DBMwyD6F.js";import"./index-xsH4HHeE.js";import"./CompareDetailsModal-Khdr67Ug.js";import"./preload-helper-BfFHrpNk.js";import"./typeof-QjJsDpFa.js";import"./html2canvas.esm-CBrSDip1.js";import"./loader-circle-CrvBvIt1.js";const pe=({items:c,data:i,setCart:G,cart:I})=>{const[o,g]=r.useState(null);r.useRef(null),r.useRef(null);const n=r.useRef(null),a=r.useRef(null),u=r.useRef(null),f=r.useRef(null);r.useEffect(()=>{[n,a,u,f].forEach(e=>{e.current&&M(e.current)})},[]),r.useEffect(()=>{if(!o)return;const e=()=>{const s=window.innerWidth>=768;o.params.navigation.prevEl=s?n.current:u.current,o.params.navigation.nextEl=s?a.current:f.current,o.navigation.destroy(),o.navigation.init(),o.navigation.update()};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[o]);const[q,x]=r.useState(!1),[v,m]=r.useState(!1),[p,d]=r.useState([]),[b,h]=r.useState(!1),C=e=>{console.log("Click en comparar",e),x(!0),m(!1),d(s=>{const l=s.find(P=>P.id===e.id);if(console.log("Productos actuales en barra:",s,"¿Ya existe?",l),l||s.length>=4)return s;const w=[...s,e];return console.log("Nuevos productos en barra:",w),w})},j=e=>{d(s=>s.filter(l=>l.id!==e))},R=()=>m(!0),y=()=>m(!1),N=()=>{p.length===4&&h(!0)},S=()=>{h(!1),d([]),x(!1)};return t.jsxs("section",{className:"relative bg-[#F6F6F6] py-8",children:[t.jsxs("div",{className:"relative mx-auto px-primary py-10 2xl:px-0 2xl:max-w-7xl",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold customtext-neutral-dark",children:(i==null?void 0:i.title)||"Set de nuevas máquinas"}),t.jsx("a",{href:i==null?void 0:i.link_catalog,className:"hidden md:flex text-lg bg-custom transition-all duration-300 text-white border-none justify-center flex-row items-center gap-2 px-6 py-4  rounded-md font-medium cursor-pointer hover:brightness-125",children:"Ver todo"})]}),t.jsxs("div",{className:"relative w-full",children:[t.jsx(B,{modules:[E,z],navigation:{prevEl:n.current,nextEl:a.current,enabled:!0},slidesPerView:2,spaceBetween:16,loop:!0,grid:{fill:"row",rows:2},onSwiper:g,breakpoints:{640:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:16,grid:{rows:1}},1024:{slidesPerView:4,spaceBetween:20,grid:{rows:1}},1280:{slidesPerView:4,spaceBetween:0,grid:{rows:1}}},children:c==null?void 0:c.map((e,s)=>t.jsx(k,{className:"py-2 lg:px-4",children:t.jsx(D,{product:e,onCompareClick:()=>C(e)})},s))}),t.jsx("button",{ref:n,className:"hidden lg:flex absolute -left-12 top-1/2 -translate-y-1/2 z-10 w-12 h-12  items-center justify-center rounded-md bg-secondary bg-opacity-70 text-white hover:brightness-125","aria-label":"Productos anteriores",children:t.jsx(L,{width:"1.3rem"})}),t.jsx("button",{ref:a,className:"hidden lg:flex absolute -right-12 top-1/2 -translate-y-1/2 z-10 w-12 h-12  items-center justify-center rounded-md bg-secondary bg-opacity-70 text-white hover:brightness-125","aria-label":"Siguientes productos",children:t.jsx(O,{width:"1.3rem"})})]})]}),t.jsx(V,{open:!0,minimized:v,products:p,onRemove:j,onCompare:N,onMinimize:R,onRestore:y}),t.jsx(F,{isOpen:b,onClose:S,products:p})]})};export{pe as default};
