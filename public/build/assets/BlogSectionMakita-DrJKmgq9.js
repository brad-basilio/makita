import{j as i}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BH53Isel.js";import{S as j,a as p}from"./BlogCarousel-CCgb3gK1.js";import{P as y}from"./pagination-BNgD-0-C.js";import{A as v}from"./autoplay-C_BoOjhp.js";import{a as w}from"./index-xsH4HHeE.js";/* empty css               */import"./Strengths-BxtGpFA3.js";import"./index-yBjzXJbu.js";import"./create-element-if-not-defined-GPUxtyu9.js";const q=({data:s,items:m})=>{const[t,n]=a.useState(m||[]),[c,d]=a.useState(!1);a.useEffect(()=>{async function e(){try{d(!0),console.log("Fetching posts from API...");const l=await w.get("/api/posts/recent-excluding-technology");console.log("API Response:",l),console.log("API Response Data:",l.data),l.data&&l.data.success&&l.data.data?(console.log("Setting items with:",l.data.data),n(l.data.data)):(console.log("Using direct response.data:",l.data),n(l.data||[]))}catch(l){console.error("Error fetching recent posts:",l),n(m||[])}finally{d(!1)}}e()},[]);const[h,u]=a.useState(1),o=a.useRef(null),x=(e,l)=>e?e.length<=l?e:e.substr(0,l)+"...":"",g=e=>{if(!e)return"";const l=document.createElement("div");return l.innerHTML=e,l.textContent||l.innerText||""};return i.jsx("section",{className:"bg-[#F6F6F6] py-16 md:py-20",children:i.jsxs("div",{className:"px-primary mx-auto  2xl:px-0 2xl:max-w-7xl",children:[i.jsxs("div",{className:"text-center mb-10 md:mb-16 max-w-2xl mx-auto",children:[i.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold customtext-neutral-dark mb-4",children:(s==null?void 0:s.title)||"Noticias sobre Makita"}),i.jsx("p",{className:"customtext-neutral-light text-lg mb-8",children:(s==null?void 0:s.description)||"Duis dapibus congue velit, lobortis mollis nisi volutpat quis."}),i.jsx("a",{href:(s==null?void 0:s.link_blog)||"/blogs",className:"inline-block bg-custom hover:bg-secondary text-white font-medium py-3 px-6 text-lg rounded-md transition-all duration-500",children:(s==null?void 0:s.button_text)||"Ver blog"})]}),c&&i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-custom"})}),i.jsx("div",{className:`block md:hidden mt-12 ${c?"opacity-50":""}`,children:i.jsxs(j,{modules:[v,y],spaceBetween:16,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,pagination:{clickable:!0,el:".swiper-pagination"},onSlideChange:e=>u(e.realIndex+1),onSwiper:e=>{o.current=e},className:"relative pb-12",children:[Array.isArray(t)&&t.length>0&&Array.from({length:Math.ceil(t.length/2)},(e,l)=>i.jsx(p,{children:i.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.slice(l*2,l*2+2).map((r,f)=>i.jsx("a",{href:`/post/${r==null?void 0:r.slug}`,children:i.jsxs("article",{className:"flex flex-col gap-4 bg-white rounded-xl overflow-hidden",children:[i.jsx("div",{className:"w-full aspect-video flex-shrink-0",children:i.jsx("img",{src:`/storage/images/post/${r==null?void 0:r.image}`,onError:b=>b.target.src="/assets/img/noimage/no_img.jpg",alt:r==null?void 0:r.name,className:"w-full aspect-video object-cover rounded-xl"})}),i.jsxs("div",{className:"w-full flex flex-col justify-center py-2",children:[i.jsx("h3",{className:"text-sm font-bold mb-2 customtext-neutral-dark line-clamp-2",children:(r==null?void 0:r.name)||"Todo lo que puedes hacer con tu Rotomartillo Inalámbrico"}),i.jsx("p",{className:"customtext-neutral-light text-xs line-clamp-2",children:x(g(r==null?void 0:r.description),80)||"Duis dapibus congue velit, lobortis mollis nisi volutpat quis."})]})]},l*2+f)}))})},l)),i.jsx("div",{className:"w-full flex justify-center mt-5",children:i.jsx("div",{className:"flex gap-3",children:Array.isArray(t)&&t.map((e,l)=>i.jsx("button",{"aria-label":`Ir al slide ${l+1}`,onClick:()=>{u(l+1),o.current&&o.current.slideToLoop(l)},className:`transition-all duration-300 rounded-full flex items-center justify-center
                    ${h===l+1?"w-3 h-3 bg-primary brightness-125 shadow-lg":"w-3 h-3  bg-gray-100 hover:bg-primary/30"}
                  `,style:{outline:"none"}},`dot-${l}`))})})]})}),i.jsx("div",{className:`hidden md:grid grid-cols-2 gap-8 mt-12 ${c?"opacity-50":""}`,children:Array.isArray(t)&&t.length>0&&t.slice(0,4).map((e,l)=>i.jsx("a",{href:`/post/${e==null?void 0:e.slug}`,children:i.jsxs("article",{className:"flex flex-col items-center md:flex-row gap-6 bg-white rounded-xl overflow-hidden",children:[i.jsx("div",{className:"w-full md:w-1/3",children:i.jsx("img",{src:`/storage/images/post/${e==null?void 0:e.image}`,onError:r=>r.target.src="/assets/img/noimage/no_img.jpg",alt:e==null?void 0:e.name,className:"w-full aspect-square object-cover"})}),i.jsxs("div",{className:"w-full md:w-2/3 pl-4",children:[i.jsx("h3",{className:"text-2xl font-bold mb-2 customtext-neutral-dark line-clamp-2",children:(e==null?void 0:e.name)||"Todo lo que puedes hacxer con tu Rotomartillo Inalámbrico"}),i.jsx("p",{className:"customtext-neutral-light line-clamp-3 ",children:x(g(e==null?void 0:e.description),120)||"Duis dapibus congue velit, lobortis mollis nisi volutpat quis. Nulla facilisi. Sed efficitur, eros ut tincidunt sagittis, magna sem mollis elit."})]})]},l)}))})]})})};export{q as default};
