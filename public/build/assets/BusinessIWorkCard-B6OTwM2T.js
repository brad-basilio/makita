var u=Object.defineProperty;var h=(c,e,o)=>e in c?u(c,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[e]=o;var i=(c,e,o)=>h(c,typeof e!="symbol"?e+"":e,o);import"./AboutSimple-Cf8x2fCZ.js";import"./index-BH53Isel.js";import{m as n}from"./main-BvVILmTO.js";import{t as a}from"./index-CMHsc23u.js";import"./index-yBjzXJbu.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";class p{constructor(){i(this,"is_use_notify",!0);i(this,"path",null);i(this,"hasFiles",!1);i(this,"controller",null);i(this,"simpleGet",async(e,o)=>{try{const{status:r,result:t}=await n.Fetch(e,o);if(!r)throw new Error((t==null?void 0:t.message)||"Ocurrio un error inesperado");return t.data??!0}catch(r){return a.error("¡Error!",{description:r.message,duration:3e3,position:"bottom-center",richColors:!0}),null}});i(this,"paginate",async e=>{this.controller.abort("Nothing"),this.controller=new AbortController;const o=this.controller.signal;return await(await fetch(`/api/${this.path}/paginate`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(n.Cookies.get("XSRF-TOKEN"))},body:JSON.stringify(e),signal:o})).json()});i(this,"save",async(e,o=()=>{})=>{try{let r=!1,t={};if(this.hasFiles){const s=await fetch(`/api/${this.path}`,{method:"POST",headers:{"X-Xsrf-Token":decodeURIComponent(n.Cookies.get("XSRF-TOKEN"))},body:e});r=s.ok,t=JSON.parseable(await s.text())}else{const s=await n.Fetch(`/api/${this.path}`,{method:"POST",body:JSON.stringify(e)});r=s.status,t=s.result}if(!r)throw new Error((t==null?void 0:t.message)||"Ocurrio un error inesperado");return this.is_use_notify&&a.success("¡Excelente!",{description:t.message,duration:3e3,position:"bottom-center",richColors:!0}),o==null||o(),(t==null?void 0:t.data)??!0}catch(r){return a.error("¡Error!",{description:r.message,duration:3e3,position:"bottom-center",richColors:!0}),null}});i(this,"status",async({id:e,status:o})=>{try{const{status:r,result:t}=await n.Fetch(`/api/${this.path}/status`,{method:"PATCH",body:JSON.stringify({id:e,status:o})});if(!r)throw new Error((t==null?void 0:t.message)??"Ocurrio un error inesperado");return a.success("¡Excelente!",{description:t.message,duration:3e3,position:"bottom-center",richColors:!0}),!0}catch(r){return a.error("¡Error!",{description:r.message,duration:3e3,position:"bottom-center",richColors:!0}),!1}});i(this,"boolean",async({id:e,field:o,value:r})=>{try{const{status:t,result:s}=await n.Fetch(`/api/${this.path}/boolean`,{method:"PATCH",body:JSON.stringify({id:e,field:o,value:r})});if(!t)throw new Error((s==null?void 0:s.message)??"Ocurrio un error inesperado");return a.success("¡Excelente!",{description:s.message,duration:3e3,position:"bottom-center",richColors:!0}),!0}catch(t){return a.error("¡Error!",{description:t.message,duration:3e3,position:"bottom-center",richColors:!0}),!1}});i(this,"delete",async e=>{try{const{status:o,result:r}=await n.Fetch(`/api/${this.path}/${e}`,{method:"DELETE"});if(!o)throw new Error((r==null?void 0:r.message)??"Ocurrio un error inesperado");return a.success("¡Excelente!",{description:r.message,duration:3e3,position:"bottom-center",richColors:!0}),!0}catch(o){return a.error("¡Error!",{description:o.message,duration:3e3,position:"bottom-center",richColors:!0}),!1}});i(this,"get",async(e={},o=[])=>{try{let r=`/api/${this.path}`;if(typeof e=="string"||typeof e=="number")r+=`/${e}`;else if(typeof e=="object"&&Object.keys(e).length>0){const s=new URLSearchParams(e).toString();r+=`?${s}`}if(o.length>0){const s=o.join(",");r+=`${r.includes("?")?"&":"?"}with=${s}`}const t=await fetch(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(n.Cookies.get("XSRF-TOKEN"))}});if(!t.ok)throw new Error(`Error ${t.status}: ${t.statusText}`);return await t.json()}catch(r){return a.error("¡Error!",{description:r.message,duration:3e3,position:"bottom-center",richColors:!0}),null}});this.controller=new AbortController}}class l extends p{constructor(){super(...arguments);i(this,"path","users-by-services-by-business");i(this,"inviteUser",async(o,r)=>{try{const{status:t,result:s}=await n.Fetch(`/api/${this.path}`,{method:"POST",body:JSON.stringify({email:o,match:r})});if(!t)throw new Error((s==null?void 0:s.message)||"Ocurrio un error al agregar el usuario");return n.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:s.message,type:"success"}),!0}catch(t){return n.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:t.message,type:"danger"}),!1}});i(this,"authorize",async o=>{try{const{status:r,result:t}=await n.Fetch(`/api/${this.path}/authorize`,{method:"POST",body:JSON.stringify(o)});if(!r)throw new Error((t==null?void 0:t.message)||"Ocurrio un error al abrir el servicio");return n.Notify.add({icon:"/assets/img/logo-login.svg",title:"Correcto",body:t.message,type:"success"}),!0}catch(r){return n.Notify.add({icon:"/assets/img/logo-login.svg",title:"Error",body:r.message,type:"danger"}),!1}})}}new l;
