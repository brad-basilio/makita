import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BH53Isel.js";import{S as p,a as j}from"./BlogCarousel-CCgb3gK1.js";import{P as y}from"./pagination-BNgD-0-C.js";import{A as v}from"./autoplay-C_BoOjhp.js";import{a as w}from"./index-xsH4HHeE.js";/* empty css               */import"./Strengths-BxtGpFA3.js";import"./index-yBjzXJbu.js";import"./create-element-if-not-defined-GPUxtyu9.js";const q=({data:r,items:m})=>{const[t,n]=a.useState(m||[]),[c,d]=a.useState(!1);a.useEffect(()=>{async function l(){try{d(!0),console.log("Fetching posts from API...");const e=await w.get("/api/posts/recent-excluding-technology");console.log("API Response:",e),console.log("API Response Data:",e.data),e.data&&e.data.success&&e.data.data?(console.log("Setting items with:",e.data.data),n(e.data.data)):(console.log("Using direct response.data:",e.data),n(e.data||[]))}catch(e){console.error("Error fetching recent posts:",e),n(m||[])}finally{d(!1)}}l()},[]);const[f,u]=a.useState(1),o=a.useRef(null),x=(l,e)=>l?l.length<=e?l:l.substr(0,e)+"...":"",g=l=>{if(!l)return"";const e=document.createElement("div");return e.innerHTML=l,e.textContent||e.innerText||""};return s.jsx("section",{className:"bg-[#F6F6F6] py-16 md:py-20",children:s.jsxs("div",{className:"px-primary mx-auto  2xl:px-0 2xl:max-w-7xl",children:[s.jsxs("div",{className:"text-center mb-10 md:mb-16 max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold customtext-neutral-dark mb-4",children:(r==null?void 0:r.title)||"Noticias sobre Makita"}),s.jsx("p",{className:"customtext-neutral-light text-lg mb-8",children:(r==null?void 0:r.description)||"Duis dapibus congue velit, lobortis mollis nisi volutpat quis."}),s.jsx("a",{href:(r==null?void 0:r.link_blog)||"#blog",className:"inline-block bg-custom hover:bg-secondary text-white font-medium py-3 px-6 text-lg rounded-md transition-all duration-500",children:(r==null?void 0:r.button_text)||"Ver blog"})]}),c&&s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-custom"})}),s.jsx("div",{className:`block md:hidden mt-12 ${c?"opacity-50":""}`,children:s.jsxs(p,{modules:[v,y],spaceBetween:16,slidesPerView:1,autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,pagination:{clickable:!0,el:".swiper-pagination"},onSlideChange:l=>u(l.realIndex+1),onSwiper:l=>{o.current=l},className:"relative pb-12",children:[Array.isArray(t)&&t.length>0&&Array.from({length:Math.ceil(t.length/2)},(l,e)=>s.jsx(j,{children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.slice(e*2,e*2+2).map((i,h)=>s.jsxs("article",{className:"flex flex-col gap-4 bg-white rounded-xl overflow-hidden",children:[s.jsx("div",{className:"w-full aspect-video flex-shrink-0",children:s.jsx("img",{src:`/storage/images/post/${i==null?void 0:i.image}`,onError:b=>b.target.src="/assets/img/noimage/no_img.jpg",alt:i==null?void 0:i.name,className:"w-full aspect-video object-cover rounded-xl"})}),s.jsxs("div",{className:"w-full flex flex-col justify-center py-2",children:[s.jsx("h3",{className:"text-sm font-bold mb-2 customtext-neutral-dark line-clamp-2",children:(i==null?void 0:i.name)||"Todo lo que puedes hacer con tu Rotomartillo Inalámbrico"}),s.jsx("p",{className:"customtext-neutral-light text-xs line-clamp-2",children:x(g(i==null?void 0:i.description),80)||"Duis dapibus congue velit, lobortis mollis nisi volutpat quis."})]})]},e*2+h))})},e)),s.jsx("div",{className:"w-full flex justify-center mt-5",children:s.jsx("div",{className:"flex gap-3",children:Array.isArray(t)&&t.map((l,e)=>s.jsx("button",{"aria-label":`Ir al slide ${e+1}`,onClick:()=>{u(e+1),o.current&&o.current.slideToLoop(e)},className:`transition-all duration-300 rounded-full flex items-center justify-center
                    ${f===e+1?"w-3 h-3 bg-primary brightness-125 shadow-lg":"w-3 h-3  bg-gray-100 hover:bg-primary/30"}
                  `,style:{outline:"none"}},`dot-${e}`))})})]})}),s.jsx("div",{className:`hidden md:grid grid-cols-2 gap-8 mt-12 ${c?"opacity-50":""}`,children:Array.isArray(t)&&t.length>0&&t.slice(0,4).map((l,e)=>s.jsxs("article",{className:"flex flex-col items-center md:flex-row gap-6 bg-white rounded-xl overflow-hidden",children:[s.jsx("div",{className:"w-full md:w-1/3",children:s.jsx("img",{src:`/storage/images/post/${l==null?void 0:l.image}`,onError:i=>i.target.src="/assets/img/noimage/no_img.jpg",alt:l==null?void 0:l.name,className:"w-full aspect-square object-cover"})}),s.jsxs("div",{className:"w-full md:w-2/3",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2 customtext-neutral-dark line-clamp-2",children:(l==null?void 0:l.name)||"Todo lo que puedes hacxer con tu Rotomartillo Inalámbrico"}),s.jsx("p",{className:"customtext-neutral-light line-clamp-3",children:x(g(l==null?void 0:l.description),120)||"Duis dapibus congue velit, lobortis mollis nisi volutpat quis. Nulla facilisi. Sed efficitur, eros ut tincidunt sagittis, magna sem mollis elit."})]})]},e))})]})})};export{q as default};
