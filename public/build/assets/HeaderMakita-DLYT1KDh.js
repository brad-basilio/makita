import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as i,R as Je}from"./index-BH53Isel.js";import{G as pe}from"./Global-ErywZRdd.js";import{C as De}from"./HeaderSearch-B_41BEro.js";import{L as _e}from"./Logout-7s5dsuEK.js";import"./lodash-CblvOeJM.js";import{S as M}from"./search-TwiiKGP5.js";import{C as fe,D as Ge}from"./door-closed-Z4GbcMb-.js";import{A as B}from"./index-CFtDjG4d.js";import{m as o}from"./proxy-BTYtmp9V.js";import{S as ge}from"./shopping-cart-CZEUxbmv.js";import{X as be}from"./x-DBMwyD6F.js";import{C as R}from"./chevron-right-Ckt5D2ka.js";import{C as Xe}from"./chevron-left-B2s3ZsB7.js";import{U as Ye}from"./user-BvYmyGTY.js";import{S as Ke}from"./settings-BSPs3Zt8.js";import"./index-yBjzXJbu.js";import"./PaymentModal-Bxx5p2o_.js";import"./index-fNjTmf9T.js";import"./index-Chjiymov.js";import"./CartItemRow-4VUVjpPz.js";import"./Number2Currency-e57Tgsuk.js";import"./tippy-react.esm-BWiGTO87.js";import"./index-rimy3MAc.js";import"./trash-2-DK1wnsDn.js";import"./createLucideIcon-Cy5Ya80P.js";import"./plus-Bot15Khs.js";import"./main-BvVILmTO.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";const Ls=({items:u,data:C,cart:Z,setCart:ye,isUser:q,pages:Qe,generals:A=[]})=>{const H=A.find(e=>e.correlative==="phone_whatsapp"),O=A.find(e=>e.correlative==="message_whatsapp"),we=(H==null?void 0:H.description)??null,je=(O==null?void 0:O.description)??null,[Ne,ee]=i.useState(!1),[b,ve]=i.useState(!1),[Ze,Se]=i.useState(!1),[y,se]=i.useState(""),[te,ae]=i.useState(!1),[w,I]=i.useState(!1),[E,re]=i.useState(!1),[T,U]=i.useState([]),[ne,p]=i.useState(!1),[ke,ie]=i.useState(!1),[j,$]=i.useState(!1),[r,L]=i.useState(null),[qe,Me]=i.useState(null),[h,oe]=i.useState(null),[F,le]=i.useState(""),[Ce,ce]=i.useState(!1),[P,W]=i.useState([]),[Ee,f]=i.useState(!1),[$e,de]=i.useState(!1),N=i.useRef(null),[d,z]=i.useState(null),[Ae,Le]=i.useState([]),[ue,V]=i.useState(!1),ze=async e=>{if(!e.trim()||e.length<2){U([]),p(!1);return}ie(!0);try{const t=(u==null?void 0:u.filter(a=>{var n,l;return((n=a==null?void 0:a.name)==null?void 0:n.toLowerCase().includes(e.toLowerCase()))||((l=a==null?void 0:a.description)==null?void 0:l.toLowerCase().includes(e.toLowerCase()))}).slice(0,8))||[];U(t),p(t.length>0)}catch(t){console.error("Error searching suggestions:",t),U([]),p(!1)}finally{ie(!1)}},Be=e=>{se(e),v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{ze(e)},300)},Re=e=>{var t,a,n;se(e.name),p(!1),(t=e.category)!=null&&t.slug&&((a=e.platform)!=null&&a.slug)&&((n=e.family)!=null&&n.slug)?window.location.href=`/catalogo?category=${e.category.slug}&platform=${e.platform.slug}&family=${e.family.slug}`:window.location.href=`/catalogo?search=${encodeURIComponent(e.name)}`};i.useEffect(()=>()=>{v.current&&clearTimeout(v.current),N.current&&clearTimeout(N.current)},[]),i.useEffect(()=>(E?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[E]);const J=Array.from(new Set(u.map(e=>JSON.stringify(e.category)))).map(e=>{try{return JSON.parse(e)}catch{return null}}).filter(e=>e&&e.name),D=Array.from(new Set(u.map(e=>JSON.stringify(e.platform)))).map(e=>{try{return JSON.parse(e)}catch{return null}}).filter(e=>e&&e.name);Array.from(new Set(u.map(e=>JSON.stringify(e.family)))).map(e=>{try{return JSON.parse(e)}catch{return null}}).filter(e=>e&&e.name);const He=Array.from(new Set(u.map(e=>e.applications&&Array.isArray(e.applications)?e.applications.map(t=>JSON.stringify(t)):[]).flat())).map(e=>{try{return JSON.parse(e)}catch{return null}}).filter(e=>e&&e.name).filter((e,t,a)=>t===a.findIndex(n=>n.name.trim().toUpperCase()===e.name.trim().toUpperCase())),m=e=>{let t=u||[];return d&&(t=(u==null?void 0:u.filter(a=>(a==null?void 0:a.applications)&&a.applications.some(n=>(n==null?void 0:n.id)===(d==null?void 0:d.id))))||[]),(D==null?void 0:D.filter(a=>t.some(n=>{var l,c;return((l=n==null?void 0:n.category)==null?void 0:l.id)===e&&((c=n==null?void 0:n.platform)==null?void 0:c.id)===(a==null?void 0:a.id)})))||[]},_=(e,t)=>{const a=[],n=new Set;let l=u||[];return d&&(l=(u==null?void 0:u.filter(c=>(c==null?void 0:c.applications)&&c.applications.some(x=>(x==null?void 0:x.id)===(d==null?void 0:d.id))))||[]),l.forEach(c=>{var x,S,k,g,me;if(((x=c==null?void 0:c.category)==null?void 0:x.id)===e&&((S=c==null?void 0:c.platform)==null?void 0:S.id)===t&&(c!=null&&c.family)){const Q=(me=(g=(k=c.family)==null?void 0:k.name)==null?void 0:g.trim())==null?void 0:me.toUpperCase();Q&&!n.has(Q)&&(a.push(c.family),n.add(Q))}}),a},G=e=>{const t=[],a=new Set;let n=u||[];return d&&(n=(u==null?void 0:u.filter(l=>(l==null?void 0:l.applications)&&l.applications.some(c=>(c==null?void 0:c.id)===(d==null?void 0:d.id))))||[]),n.forEach(l=>{var c,x,S,k;if(((c=l==null?void 0:l.category)==null?void 0:c.id)===e&&(l!=null&&l.family)){const g=(k=(S=(x=l.family)==null?void 0:x.name)==null?void 0:S.trim())==null?void 0:k.toUpperCase();g&&!a.has(g)&&(t.push(l.family),a.add(g))}}),t},X=i.useRef(null),he=i.useRef(null),Y=i.useRef(null),K=i.useRef(null),v=i.useRef(null),xe=Z.reduce((e,t)=>Number(e)+Number(t.quantity),0);i.useEffect(()=>{function e(t){X.current&&!X.current.contains(t.target)&&ae(!1),he.current&&!he.current.contains(t.target)&&Se(!1),Y.current&&!Y.current.contains(t.target)&&p(!1),K.current&&!K.current.contains(t.target)&&f(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),i.useEffect(()=>{const e=()=>{const t=window.scrollY;t>60?(I(!0),V(!0)):t===0?(I(!1),V(!1)):(I(!0),V(!1))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),i.useEffect(()=>(j?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[j]),i.useEffect(()=>(b?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[b]),i.useEffect(()=>{(async()=>{try{const t=await fetch("/api/socials");if(t.ok){const a=await t.json();Le(a)}}catch(t){console.error("Error fetching socials:",t)}})()},[]);const Oe={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.2}}},Ie=[{icon:s.jsx(Ye,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:s.jsx(ge,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:s.jsx(Ke,{size:16}),label:"Configuración",href:"/account"},{icon:s.jsx(Ge,{size:16}),label:"Cerrar Sesión",onClick:_e}],Te=`
    .custom-scrollbar::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 20px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.8);
      border-radius: 20px;
      border: 2px solid transparent;
      background-clip: padding-box;
    }
  `,Ue=async e=>{if(!e.trim()||e.length<2){W([]),f(!1);return}de(!0);try{const t=(u==null?void 0:u.filter(a=>{var n,l;return((n=a==null?void 0:a.name)==null?void 0:n.toLowerCase().includes(e.toLowerCase()))||((l=a==null?void 0:a.description)==null?void 0:l.toLowerCase().includes(e.toLowerCase()))}).slice(0,8))||[];W(t),f(t.length>0)}catch(t){console.error("Error searching mobile suggestions:",t),W([]),f(!1)}finally{de(!1)}},Fe=e=>{le(e),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{Ue(e)},300)},Pe=e=>{var t,a,n;le(e.name),f(!1),(t=e.category)!=null&&t.slug&&((a=e.platform)!=null&&a.slug)&&((n=e.family)!=null&&n.slug)?window.location.href=`/catalogo?category=${e.category.slug}&platform=${e.platform.slug}&family=${e.family.slug}`:window.location.href=`/catalogo?search=${encodeURIComponent(e.name)}`},We=e=>{oe(e),ce(!0)},Ve=()=>{ce(!1),oe(null)};return s.jsxs(s.Fragment,{children:[s.jsx("style",{children:Te}),s.jsxs("header",{className:`top-0 z-50 ${w?"fixed left-0 right-0 w-screen":"relative w-full"} bg-primary`,style:{boxShadow:w?"0 2px 8px rgba(0,0,0,0.08)":"none",minHeight:"auto"},children:[s.jsxs("div",{className:"hidden md:flex px-4 2xl:px-0 2xl:max-w-7xl items-center justify-between mx-auto py-3 font-paragraph text-base font-semibold text-white",children:[s.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51] py-1 rounded",children:s.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:pe.APP_NAME,className:"h-12 object-contain object-center",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),s.jsx("nav",{className:"flex gap-1 relative flex-1 justify-center",children:J.map(e=>s.jsx("div",{className:"relative",children:s.jsx("button",{className:`font-medium tracking-wider px-4 py-2 text-lg uppercase  hover:text-[#262626] transition-colors duration-500 ${(r==null?void 0:r.id)===e.id&&j?"text-[#262626]":""}`,onClick:()=>{re(!1),(r==null?void 0:r.id)===e.id&&j?($(!1),L(null)):($(!0),L(e),Me(null))},children:e.name})},e.id))}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"relative",children:s.jsx("button",{onClick:()=>{$(!1),L(null),re(!E)},className:"p-3 bg-secondary hover:bg-secondary rounded transition-colors",children:s.jsx(M,{size:28})})}),(C==null?void 0:C.showLoginCart)&&s.jsxs("div",{className:"flex items-center gap-4 relative text-sm",children:[s.jsxs("div",{ref:X,children:[q?s.jsxs("button",{"aria-label":"user",className:"flex items-center gap-2 hover:bg-white/10 px-3 py-2 rounded transition-colors duration-300",onClick:()=>ae(!te),children:[s.jsx(fe,{size:20}),s.jsx("span",{className:"hidden lg:inline",children:q.name})]}):s.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:bg-white/10 px-3 py-2 rounded transition-colors duration-300",children:[s.jsx(fe,{size:20}),s.jsx("span",{className:"hidden lg:inline",children:"Iniciar Sesión"})]}),s.jsx(B,{children:te&&s.jsx(o.div,{initial:"hidden",animate:"visible",exit:"exit",variants:Oe,className:"absolute z-50 top-full right-0 bg-white shadow-xl border rounded-lg w-48 mt-2",children:s.jsx("div",{className:"p-4",children:s.jsx("ul",{className:"space-y-3",children:Ie.map((e,t)=>s.jsx("li",{children:e.onClick?s.jsxs("button",{"aria-label":"menu-items",onClick:e.onClick,className:"flex w-full items-center gap-3 text-gray-700 text-sm hover:text-[#00B5CE] transition-colors duration-300",children:[e.icon,s.jsx("span",{children:e.label})]}):s.jsxs("a",{href:e.href,className:"flex items-center gap-3 text-gray-700 text-sm hover:text-[#00B5CE] transition-colors duration-300",children:[e.icon,s.jsx("span",{children:e.label})]})},t))})})})})]}),s.jsxs("button",{"aria-label":"cart",onClick:()=>ee(!0),className:"flex items-center relative p-2 hover:bg-white/10 rounded transition-colors",children:[s.jsx(ge,{size:20}),xe>0&&s.jsx("span",{className:"absolute -right-1 -top-1 inline-flex items-center justify-center w-5 h-5 bg-red-500 text-white rounded-full text-xs font-bold",children:xe})]})]})]})]}),s.jsxs("div",{className:"flex md:hidden items-center justify-between px-4 py-2",children:[s.jsx("a",{href:"/",className:"flex items-center justify-start z-[51]",children:s.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:pe.APP_NAME,className:"h-10 object-contain object-center",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),s.jsx("button",{"aria-label":"Menú",onClick:()=>ve(!b),className:"flex items-center justify-center bg-secondary p-3 rounded-lg text-white z-[51]",children:b?s.jsx(be,{size:24}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[s.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),s.jsx(De,{data:C,cart:Z,setCart:ye,modalOpen:Ne,setModalOpen:ee}),s.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative",children:s.jsx("div",{className:"hidden lg:block fixed bottom-6 sm:bottom-[2rem] lg:bottom-[4rem] z-20 cursor-pointer",children:s.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:`https://api.whatsapp.com/send?phone=${we}&text=${je}`,rel:"noreferrer",children:s.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-16 h-16 animate-bounce duration-300"})})})})]}),s.jsx(B,{children:j&&r&&s.jsxs(o.div,{initial:{opacity:0,y:-30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-30,scale:.95},transition:{duration:.4,ease:[.25,.46,.45,.94],type:"spring",stiffness:300,damping:30},className:"fixed left-0 right-0 z-40 w-full bg-secondary text-white shadow-2xl hidden md:block backdrop-blur-sm",style:{top:w?64:ue?160:120,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.05)"},children:[s.jsx("div",{className:"relative max-w-7xl mx-auto  ",children:s.jsx("button",{onClick:()=>{$(!1),L(null),z(null)},className:"text-white absolute top-8 right-0 hover:text-[#00B5CE] transition-colors p-2 rounded-full hover:bg-white/10","aria-label":"Cerrar menú",children:s.jsx(be,{size:24})})}),s.jsx("div",{className:"max-w-7xl mx-auto py-10  pb-8 max-h-[calc(80vh-100px)] overflow-hidden",children:m(r==null?void 0:r.id).length>0?s.jsx("div",{className:"flex gap-8 overflow-x-auto pb-2 custom-scrollbar",style:{WebkitOverflowScrolling:"touch",maxWidth:"100%",overflowX:"auto"},children:m(r==null?void 0:r.id).map(e=>{const t="min(400px, 33vw)";return s.jsxs(o.div,{className:"flex-shrink-0 space-y-4 bg-secondary rounded-lg py-4",style:{minWidth:t,maxWidth:t,width:t,boxSizing:"border-box"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+m(r==null?void 0:r.id).indexOf(e)*.1,duration:.4},children:[s.jsxs(o.div,{className:"pb-2 flex items-center gap-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+m(r==null?void 0:r.id).indexOf(e)*.1,duration:.3},children:[s.jsx("img",{src:`/storage/images/platform/${e==null?void 0:e.image}`,alt:(e==null?void 0:e.name)||"Plataforma",className:"h-6 object-contain",onError:a=>a.target.src="/api/cover/thumbnail/null"}),s.jsx("h3",{className:"text-white font-medium text-lg tracking-wider ",children:(e==null?void 0:e.description)||(e==null?void 0:e.name)||"Sin nombre"})]}),s.jsx("ul",{className:"space-y-2 max-h-[320px] overflow-y-auto pr-2 custom-scrollbar",children:_(r==null?void 0:r.id,e==null?void 0:e.id).length>0?_(r==null?void 0:r.id,e==null?void 0:e.id).map((a,n)=>s.jsx(o.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+m(r==null?void 0:r.id).indexOf(e)*.1+n*.05,duration:.25},children:s.jsxs("a",{href:`/catalogo?category=${r==null?void 0:r.slug}&platform=${e==null?void 0:e.slug}&family=${a==null?void 0:a.slug}`,className:"text-white !lowercase group hover:text-[#00B5CE] border-b pt-2 pb-4 border-white/40 transition-all duration-300 text-sm flex items-center gap-2 hover:translate-x-1",children:[s.jsx("span",{className:"text-white group-hover:text-[#00B5CE] transition-colors duration-300",children:"•"}),s.jsx("span",{className:"!capitalize",children:(a==null?void 0:a.name)||"Sin nombre"})]})},a==null?void 0:a.id)):s.jsxs(o.li,{className:"flex flex-col items-center justify-center py-6 text-white/70",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.3},children:[s.jsx("svg",{className:"w-10 h-10 text-white/40 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),s.jsx("p",{className:"text-xs font-medium text-center",children:"Sin familias disponibles"}),s.jsx("p",{className:"text-xs text-white/50 text-center",children:"No hay familias para esta plataforma"})]})})]},e.id)})}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:G(r==null?void 0:r.id).length>0?G(r==null?void 0:r.id).map((e,t)=>s.jsx(o.a,{href:`/catalogo?category=${r==null?void 0:r.slug}&family=${e==null?void 0:e.slug}`,className:"bg-secondary hover:bg-white/10 rounded-lg p-4 transition-all duration-300 hover:scale-105 hover:shadow-lg",initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.1+t*.05,duration:.3},whileHover:{scale:1.05,transition:{duration:.2}},children:s.jsx("h3",{className:"text-white font-medium text-sm",children:(e==null?void 0:e.name)||"Sin nombre"})},e==null?void 0:e.id)):s.jsx(o.div,{className:"col-span-full text-center py-12",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.4},children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(o.svg,{className:"w-16 h-16 text-white/40 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",initial:{rotate:-10,scale:.8},animate:{rotate:0,scale:1},transition:{delay:.3,duration:.5},children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),s.jsx(o.div,{className:"text-white/70 text-lg mb-2 font-medium",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:"No hay productos disponibles"}),s.jsx(o.p,{className:"text-white/50 text-sm max-w-md",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.3},children:d?`No se encontraron productos para la aplicación "${d==null?void 0:d.name}" en esta categoría.`:"No hay familias de productos disponibles en esta categoría en este momento."}),d&&s.jsxs(o.button,{onClick:()=>z(null),className:"mt-4 px-4 py-2 bg-[#00B5CE] text-white hover:bg-[#00A0B8] transition-colors text-sm inline-flex items-center gap-2",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6,duration:.3},whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Ver todos los productos"]})]})})})}),s.jsx("div",{className:"bg-secondary border-t border-gray-600",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h4",{className:"text-2xl font-bold text-white",children:"Filtrar por Aplicación:"}),d&&s.jsx("button",{onClick:()=>z(null),className:"text-[#00B5CE] hover:text-white transition-colors text-sm font-medium px-3 py-1 border border-[#00B5CE] rounded-full",children:"Limpiar filtro"})]}),s.jsx("div",{className:"flex flex-wrap items-center gap-4 md:gap-6",children:He.map((e,t,a)=>s.jsxs(Je.Fragment,{children:[s.jsx(o.button,{onClick:()=>{z((d==null?void 0:d.id)===e.id?null:e)},className:`transition-all duration-300 text-sm font-medium uppercase tracking-wide px-3 py-2 hover:scale-105 ${(d==null?void 0:d.id)===e.id?"bg-[#00B5CE] text-white shadow-lg":"text-white hover:text-[#00B5CE] hover:bg-white/10"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1+t*.05,duration:.3},whileHover:{scale:1.05},whileTap:{scale:.95},children:e.name}),t<a.length-1&&s.jsx(o.span,{className:"text-white hidden md:inline",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2+t*.05,duration:.2},children:"|"})]},e.id||e.name))})]})})})]})}),s.jsx(B,{children:E&&s.jsx(o.div,{initial:{opacity:0,y:-20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.35,ease:[.4,0,.2,1]},className:"fixed left-0 right-0 z-40 w-full bg-white text-black shadow-2xl hidden md:block",style:{top:w?64:125},children:s.jsx("div",{className:`max-w-7xl mx-auto px-6 overflow-hidden transition-all duration-300 ${ne?"py-6 h-[calc(80vh-15vh)]":"py-6 max-h-[calc(80vh-100px)]"}`,children:s.jsxs("div",{className:"block relative w-full ",ref:Y,children:[s.jsx("a",{href:y.trim()?`/catalogo?search=${encodeURIComponent(y)}`:"#",className:"absolute left-3 top-1/2 transform -translate-y-1/2 p-2 customtext-neutral-dark transition-colors","aria-label":"Buscar",children:s.jsx(M,{})}),s.jsx("input",{type:"search",placeholder:"Buscar productos",value:y,onChange:e=>Be(e.target.value),onFocus:()=>y.length>=2&&T.length>0&&p(!0),className:"w-full pl-20 py-4 text-lg border-none rounded-full focus:ring-0 focus:outline-none",autoComplete:"off"}),ne&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white   rounded-lg  z-50 max-h-[600px] overflow-y-auto",children:ke?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),s.jsx("span",{className:"mt-2 block",children:"Buscando..."})]}):s.jsxs(s.Fragment,{children:[T.map((e,t)=>{var a,n;return s.jsxs("div",{onClick:()=>Re(e),className:"flex items-center p-4 hover:bg-gray-50 cursor-pointer  last:border-b-0 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-16 mr-4",children:e.image?s.jsx("img",{src:`/storage/images/item/${e.image}`,alt:e.name,className:"w-full h-full object-cover rounded",onError:l=>{l.target.style.display="none"}}):s.jsx("div",{className:"w-full h-full bg-gray-200 rounded flex items-center justify-center",children:s.jsx(M,{size:16,className:"text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-lg font-medium customtext-neutral-dark truncate",children:e.name}),s.jsxs("p",{className:"text-base customtext-primary truncate",children:[(a=e.category)==null?void 0:a.name," ",((n=e.platform)==null?void 0:n.name)&&`• ${e.platform.name}`]})]})]},e.id||t)}),T.length>0&&s.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:s.jsxs("a",{href:`/catalogo?search=${encodeURIComponent(y)}`,className:"text-sm bg-primary hover:bg-[#219FB9] transition-colors duration-500 w-max mx-auto px-4 py-3 rounded-md text-white hover:text-primary/80 font-medium flex items-center justify-center gap-2 ",children:["Ver todos los resultados",s.jsx(R,{size:16})]})})]})})]})})})}),s.jsx(B,{children:b&&s.jsxs(o.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.4,ease:[.25,.46,.45,.94],type:"spring",stiffness:300,damping:30},className:"md:hidden bg-primary fixed left-0 right-0 h-[calc(100dvh-56px)] z-[9999] overflow-hidden backdrop-blur-sm mx-0",style:{top:w?65:110,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[s.jsxs("div",{className:"px-4 py-3 border-b border-white/10 bg-white relative",ref:K,children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx(M,{className:"absolute left-3 customtext-neutral-dark",size:20}),s.jsx("input",{type:"search",placeholder:"Búsqueda",value:F,onChange:e=>Fe(e.target.value),onFocus:()=>F.length>=2&&P.length>0&&f(!0),className:"w-full pl-10 py-2 bg-transparent border-b border-white/40 customtext-neutral-dark placeholder-black focus:outline-none focus:border-white",autoComplete:"off"})]}),Ee&&s.jsx("div",{className:"absolute top-full left-0 right-0  bg-white rounded-b-md shadow-xl z-[60] max-h-[50vh] overflow-y-auto border-t border-gray-200",children:$e?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"}),s.jsx("span",{className:"mt-2 block text-sm",children:"Buscando..."})]}):s.jsxs(s.Fragment,{children:[P.map((e,t)=>{var a,n;return s.jsxs("div",{onClick:()=>Pe(e),className:"flex items-center p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 mr-3",children:e.image?s.jsx("img",{src:`/storage/images/item/${e.image}`,alt:e.name,className:"w-full h-full object-cover rounded",onError:l=>{l.target.style.display="none"}}):s.jsx("div",{className:"w-full h-full bg-gray-200 rounded flex items-center justify-center",children:s.jsx(M,{size:14,className:"text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium customtext-neutral-dark truncate",children:e.name}),s.jsxs("p",{className:"text-xs customtext-primary truncate",children:[(a=e.category)==null?void 0:a.name," ",((n=e.platform)==null?void 0:n.name)&&`• ${e.platform.name}`]})]})]},e.id||t)}),P.length>0&&s.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:s.jsxs("a",{href:`/catalogo?search=${encodeURIComponent(F)}`,className:"text-sm bg-primary hover:bg-[#219FB9] transition-colors duration-500 w-full px-3 py-3 rounded-md text-white font-medium flex items-center justify-center gap-2",children:["Ver todos los resultados",s.jsx(R,{size:14})]})})]})})]}),Ce?s.jsxs(o.div,{className:"h-full flex flex-col bg-secondary",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,ease:"easeInOut"},children:[s.jsx(o.div,{className:"sticky top-0 bg-secondary border-b border-white/10",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:s.jsxs(o.button,{onClick:Ve,className:"flex items-center gap-2 p-4 text-white transition-all duration-300",whileHover:{x:-3},whileTap:{scale:.95},children:[s.jsx(o.div,{whileHover:{x:-2},transition:{duration:.2},children:s.jsx(Xe,{size:20})}),s.jsx("span",{className:"text-sm font-medium uppercase",children:h==null?void 0:h.name})]})}),s.jsx(o.div,{className:"flex-1 overflow-y-auto custom-scrollbar pt-4 pb-20 mb-14",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:m(h==null?void 0:h.id).length>0?s.jsx("div",{className:"p-4 space-y-6",children:m(h==null?void 0:h.id).map((e,t)=>s.jsxs(o.div,{className:"space-y-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+t*.1,duration:.3},children:[s.jsx(o.div,{className:"flex items-center gap-2",whileHover:{scale:1.02},transition:{duration:.2},children:s.jsx("img",{src:`/storage/images/platform/${e.image}`,alt:e.name,className:"h-6 w-auto object-contain",onError:a=>a.target.src="/api/cover/thumbnail/null"})}),s.jsx("ul",{className:"pl-4 space-y-2",children:_(h==null?void 0:h.id,e.id).map((a,n)=>s.jsx(o.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.4+t*.1+n*.05,duration:.25},children:s.jsxs(o.a,{href:`/catalogo?category=${h==null?void 0:h.slug}&family=${a.slug}`,className:"text-white hover:customtext-primary border-b pb-2 border-white/40 transition-all duration-300 text-sm flex items-center gap-2",whileHover:{x:5,scale:1.02},whileTap:{scale:.98},children:[s.jsx("span",{className:"text-[#00B5CE]",children:"•"}),s.jsx("span",{children:a.name})]})},a.id))})]},e.id))}):s.jsx("ul",{className:"p-4 space-y-2",children:G(h==null?void 0:h.id).map((e,t)=>s.jsx(o.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+t*.05,duration:.3},children:s.jsxs(o.a,{href:`/catalogo?category=${h==null?void 0:h.slug}&family=${e.slug}`,className:"text-white hover:customtext-primary border-b pb-2 border-white/40 transition-all duration-300 text-sm flex items-center gap-2",whileHover:{x:5,scale:1.02},whileTap:{scale:.98},children:[s.jsx("span",{className:"text-[#00B5CE]",children:"•"}),s.jsx("span",{children:e.name})]})},e.id))})})]}):s.jsx("div",{className:"h-full flex flex-col",children:s.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:s.jsxs("ul",{className:"divide-y divide-white/10",children:[J.map((e,t)=>s.jsx(o.li,{className:"border-b border-white/10 text-white",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+t*.05,duration:.3},children:s.jsxs(o.button,{onClick:()=>We(e),className:"flex items-center justify-between w-full p-4 text-left hover:bg-white/5 transition-all duration-300",whileHover:{scale:1.02,x:5},whileTap:{scale:.98},children:[s.jsx("span",{className:"text-base font-medium uppercase",children:e.name}),s.jsx(o.div,{whileHover:{x:3},transition:{duration:.2},children:s.jsx(R,{size:20})})]})},e.id)),s.jsx(o.li,{className:"border-b border-white/10 text-white",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+J.length*.05,duration:.3},children:s.jsxs(o.a,{href:"/blog",className:"flex items-center justify-between w-full p-4 text-left hover:bg-white/5 transition-all duration-300",whileHover:{scale:1.02,x:5},whileTap:{scale:.98},children:[s.jsx("span",{className:"text-base font-medium uppercase",children:"NUESTRO BLOG"}),s.jsx(o.div,{whileHover:{x:3},transition:{duration:.2},children:s.jsx(R,{size:20})})]})})]})})})]})})]})};export{Ls as default};
