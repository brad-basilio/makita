import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{S as B,a as k}from"./BlogCarousel-CCgb3gK1.js";import{N as E}from"./navigation-cW_iC-Qg.js";import{G as z}from"./grid-BZ4EKnFQ.js";/* empty css               */import"./InfiniteCategory-BtlY-czj.js";/* empty css             */import{r}from"./index-BH53Isel.js";import{a as M}from"./adjustTextColor-FzLvY4Q1.js";import{C as D,a as V,b as F}from"./CompareDetailsModal-BB98iv81.js";import{C as L}from"./chevron-left-B2s3ZsB7.js";import{C as O}from"./chevron-right-Ckt5D2ka.js";import"./index-yBjzXJbu.js";import"./create-element-if-not-defined-GPUxtyu9.js";import"./chevron-up-D78jyEhP.js";import"./createLucideIcon-Cy5Ya80P.js";import"./chevron-down-DS-mdh9v.js";import"./x-DBMwyD6F.js";import"./index-xsH4HHeE.js";import"./CompareDetailsModal-CRbNeHaa.js";import"./preload-helper-BfFHrpNk.js";import"./typeof-QjJsDpFa.js";import"./html2canvas.esm-CBrSDip1.js";import"./loader-circle-CrvBvIt1.js";const de=({items:i,data:n,setCart:G,cart:I})=>{const[o,w]=r.useState(null);r.useRef(null),r.useRef(null);const a=r.useRef(null),l=r.useRef(null),u=r.useRef(null),f=r.useRef(null);r.useEffect(()=>{[a,l,u,f].forEach(t=>{t.current&&M(t.current)})},[]),r.useEffect(()=>{if(!o)return;const t=()=>{const s=window.innerWidth>=768;o.params.navigation.prevEl=s?a.current:u.current,o.params.navigation.nextEl=s?l.current:f.current,o.navigation.destroy(),o.navigation.init(),o.navigation.update()};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[o]);const[q,x]=r.useState(!1),[v,m]=r.useState(!1),[d,p]=r.useState([]),[b,h]=r.useState(!1),C=t=>{console.log("Click en comparar",t),x(!0),m(!1),p(s=>{const c=s.find(P=>P.id===t.id);if(console.log("Productos actuales en barra:",s,"¿Ya existe?",c),c||s.length>=4)return s;const g=[...s,t];return console.log("Nuevos productos en barra:",g),g})},j=t=>{p(s=>s.filter(c=>c.id!==t))},y=()=>m(!0),R=()=>m(!1),N=()=>{d.length===4&&h(!0)},S=()=>{h(!1),p([]),x(!1)};return e.jsxs("section",{className:"relative bg-[#F6F6F6] py-8",children:[e.jsxs("div",{className:"relative mx-auto px-primary py-10 2xl:px-0 2xl:max-w-7xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold customtext-neutral-dark",children:(n==null?void 0:n.title)||"Set de nuevas máquinas"}),e.jsx("a",{href:n==null?void 0:n.link_catalog,className:"hidden md:flex text-lg bg-custom transition-all duration-300 text-white border-none justify-center flex-row items-center gap-2 px-6 py-4  rounded-md font-medium cursor-pointer hover:brightness-125",children:"Ver todo"})]}),e.jsxs("div",{className:"relative w-full",children:[i&&i.length>0?e.jsx(B,{modules:[E,z],navigation:{prevEl:a.current,nextEl:l.current,enabled:!0},slidesPerView:2,spaceBetween:16,loop:!0,grid:{fill:"row",rows:2},onSwiper:w,breakpoints:{640:{slidesPerView:2,spaceBetween:16},768:{slidesPerView:3,spaceBetween:16,grid:{rows:1}},1024:{slidesPerView:4,spaceBetween:20,grid:{rows:1}},1280:{slidesPerView:4,spaceBetween:0,grid:{rows:1}}},children:i==null?void 0:i.map((t,s)=>e.jsx(k,{className:"py-2 lg:px-4",children:e.jsx(D,{product:t,onCompareClick:()=>C(t)})},s))}):e.jsx("div",{className:"w-full text-center py-10",children:"Cargando productos..."}),e.jsx("button",{ref:a,className:"hidden lg:flex absolute -left-12 top-1/2 -translate-y-1/2 z-10 w-12 h-12  items-center justify-center rounded-md bg-secondary bg-opacity-70 text-white hover:brightness-125","aria-label":"Productos anteriores",children:e.jsx(L,{width:"1.3rem"})}),e.jsx("button",{ref:l,className:"hidden lg:flex absolute -right-12 top-1/2 -translate-y-1/2 z-10 w-12 h-12  items-center justify-center rounded-md bg-secondary bg-opacity-70 text-white hover:brightness-125","aria-label":"Siguientes productos",children:e.jsx(O,{width:"1.3rem"})})]})]}),e.jsx(V,{open:!0,minimized:v,products:d,onRemove:j,onCompare:N,onMinimize:y,onRestore:R}),e.jsx(F,{isOpen:b,onClose:S,products:d})]})};export{de as default};
