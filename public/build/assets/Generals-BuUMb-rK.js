var je=Object.defineProperty;var ke=(l,n,p)=>n in l?je(l,n,{enumerable:!0,configurable:!0,writable:!0,value:p}):l[n]=p;var be=(l,n,p)=>ke(l,typeof n!="symbol"?n+"":n,p);import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as h}from"./index-BH53Isel.js";import{L as Ne,G as ye,M as Ce}from"./esm-hESa1MbP.js";import{B as we}from"./Base-NNYOUAzC.js";import{B as qe}from"./BasicRest-CtWwZ3Gl.js";import{C as Pe}from"./CreateReactScript-B3e40jAW.js";import{c as Te}from"./ReactAppend-DTVVXReZ.js";import{Q as x}from"./QuillFormGroup-D8zDHSfJ.js";import{E as Ee}from"./TinyMCEFormGroup-DsLftacR.js";import{G as Fe}from"./Global-ErywZRdd.js";import{G as Se}from"./GalleryRest-DuLds7AF.js";import{i as _e}from"./tippy-react.esm-BWiGTO87.js";import{T as $e}from"./TextareaFormGroup-DVzYJtLM.js";import"./index-yBjzXJbu.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";/* empty css              */import"./Logout-jUU_tfUq.js";import"./main-BSEyQEJW.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./MenuItemContainer-BkmzVQNY.js";import"./index.esm-BE8-iLxT.js";import"./index-CMHsc23u.js";/* empty css               */import"./General-BmbBKdsB.js";import"./LaravelSession-Dz9cpV3l.js";import"./index-BVYA1enw.js";import"./index-Chjiymov.js";class He extends qe{constructor(){super(...arguments);be(this,"path","admin/generals")}}const Me=({label:l,value:n,onChange:p,height:N=400,variables:f=[]})=>e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:l}),e.jsx(Ee,{apiKey:"0ivxwwh4ikqrvmr5gbv61vf2xxpax8guf0jn0had0m9n443d",value:n,init:{height:N,menubar:!0,plugins:["advlist","autolink","link","image","lists","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","table","emoticons","help"],toolbar:"undo redo | formatselect | bold italic underline forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | table tabledelete tableprops tablerowprops tablecellprops | codesample code | removeformat | help",menubar:"file edit view insert format tools table help",image_advtab:!0,image_title:!0,relative_urls:!1,remove_script_host:!1,convert_urls:!0,automatic_uploads:!0,extended_valid_elements:"img[data-src|src|alt|style|width|height|class]",images_upload_handler:function(m){const v=new FormData;return v.append("file",m.blob()),fetch("/api/upload-image",{method:"POST",body:v}).then(r=>{if(!r.ok)throw new Error("Error en la subida");return r.json()}).then(r=>{if(r!=null&&r.location)return r.location;throw new Error("Respuesta inválida")}).catch(r=>{throw new Error("Error al subir la imagen: "+r.message)})},content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",setup:m=>{const v=r=>(r=r.replace(/src="[^"]*({{[^}]+}})"/g,'src="$1"'),r=r.replace(/src="[^"]*(https?:\/\/[^"}]+)"/g,'src="$1"'),r=r.replace(/href="[^"]*({{[^}]+}})"/g,'href="$1"'),r=r.replace(/href="[^"]*(https?:\/\/[^"}]+)"/g,'href="$1"'),r);m.on("BeforeSetContent",function(r){r.content&&typeof r.content=="string"&&(r.content=v(r.content))}),m.on("PostProcess",function(r){r.content&&typeof r.content=="string"&&(r.content=v(r.content))})}},onEditorChange:p}),f&&f.length>0&&e.jsxs("div",{className:"mt-1 small text-muted",children:["Variables disponibles: ",f.map(m=>e.jsx("code",{className:"me-1",children:"{{"+m+"}}"},m))]})]}),We=new He,fe=new Se,De=({generals:l})=>{var E,F,S,$,H,M,W,D,G,A,R,I,L,B,V,O,Y,Q,z,K,J,U,X,Z,ee,ae,te,ce,le,ie,se,re,oe,ne,me,de,pe,ue,he;const n=((E=l.find(a=>a.correlative=="location"))==null?void 0:E.description)??"0,0",p=l.filter(a=>a.correlative.endsWith("_email")&&a.correlative!=="support_email"),[N,f]=h.useState(!1),[m,v]=h.useState(((F=p[0])==null?void 0:F.correlative)||""),[r,y]=h.useState({}),[C,g]=h.useState(!1),[j,w]=h.useState(null);h.useEffect(()=>{if(!m)return;const c={purchase_summary_email:"purchase_summary",order_status_changed_email:"order_status_changed",blog_published_email:"blog_published",claim_email:"claim",password_changed_email:"password_changed",reset_password_email:"password_reset",subscription_email:"subscription",verify_account_email:"verify_account"}[m];if(!c){y({});return}g(!0),w(null),fetch(`/api/notification-variables/${c}`).then(s=>s.json()).then(s=>{y(s.variables||{}),g(!1)}).catch(s=>{w("No se pudieron cargar las variables."),g(!1)})},[m]);const[t,i]=h.useState({email_templates:Object.fromEntries(p.map(a=>[a.correlative,a.description??""])),phones:((H=($=(S=l.find(a=>a.correlative=="phone_contact"))==null?void 0:S.description)==null?void 0:$.split(","))==null?void 0:H.map(a=>a.trim()))??[""],emails:((D=(W=(M=l.find(a=>a.correlative=="email_contact"))==null?void 0:M.description)==null?void 0:W.split(","))==null?void 0:D.map(a=>a.trim()))??[""],cintillo:((G=l.find(a=>a.correlative=="cintillo"))==null?void 0:G.description)??"",copyright:((A=l.find(a=>a.correlative=="copyright"))==null?void 0:A.description)??"",address:((R=l.find(a=>a.correlative=="address"))==null?void 0:R.description)??"",openingHours:((I=l.find(a=>a.correlative=="opening_hours"))==null?void 0:I.description)??"",supportPhone:((L=l.find(a=>a.correlative=="support_phone"))==null?void 0:L.description)??"",supportEmail:((B=l.find(a=>a.correlative=="support_email"))==null?void 0:B.description)??"",privacyPolicy:((V=l.find(a=>a.correlative=="privacy_policy"))==null?void 0:V.description)??"",termsConditions:((O=l.find(a=>a.correlative=="terms_conditions"))==null?void 0:O.description)??"",deliveryPolicy:((Y=l.find(a=>a.correlative=="delivery_policy"))==null?void 0:Y.description)??"",salebackPolicy:((Q=l.find(a=>a.correlative=="saleback_policy"))==null?void 0:Q.description)??"",phoneWhatsapp:((z=l.find(a=>a.correlative=="phone_whatsapp"))==null?void 0:z.description)??"",messageWhatsapp:((K=l.find(a=>a.correlative=="message_whatsapp"))==null?void 0:K.description)??"",igvCheckout:((J=l.find(a=>a.correlative=="igv_checkout"))==null?void 0:J.description)??"",location:{lat:Number(n.split(",").map(a=>a.trim())[0]),lng:Number(n.split(",").map(a=>a.trim())[1])},checkout_culqi:((U=l.find(a=>a.correlative=="checkout_culqi"))==null?void 0:U.description)??"",checkout_culqi_name:((X=l.find(a=>a.correlative=="checkout_culqi_name"))==null?void 0:X.description)??"",checkout_culqi_public_key:((Z=l.find(a=>a.correlative=="checkout_culqi_public_key"))==null?void 0:Z.description)??"",checkout_culqi_private_key:((ee=l.find(a=>a.correlative=="checkout_culqi_private_key"))==null?void 0:ee.description)??"",checkout_mercadopago:((ae=l.find(a=>a.correlative=="checkout_mercadopago"))==null?void 0:ae.description)??"",checkout_mercadopago_name:((te=l.find(a=>a.correlative=="checkout_mercadopago_name"))==null?void 0:te.description)??"",checkout_mercadopago_public_key:((ce=l.find(a=>a.correlative=="checkout_mercadopago_public_key"))==null?void 0:ce.description)??"",checkout_mercadopago_private_key:((le=l.find(a=>a.correlative=="checkout_mercadopago_private_key"))==null?void 0:le.description)??"",checkout_dwallet:((ie=l.find(a=>a.correlative=="checkout_dwallet"))==null?void 0:ie.description)??"",checkout_dwallet_qr:((se=l.find(a=>a.correlative=="checkout_dwallet_qr"))==null?void 0:se.description)??"",checkout_dwallet_name:((re=l.find(a=>a.correlative=="checkout_dwallet_name"))==null?void 0:re.description)??"",checkout_dwallet_description:((oe=l.find(a=>a.correlative=="checkout_dwallet_description"))==null?void 0:oe.description)??"",checkout_transfer:((ne=l.find(a=>a.correlative=="checkout_transfer"))==null?void 0:ne.description)??"",checkout_transfer_cci:((me=l.find(a=>a.correlative=="checkout_transfer_cci"))==null?void 0:me.description)??"",checkout_transfer_name:((de=l.find(a=>a.correlative=="checkout_transfer_name"))==null?void 0:de.description)??"",checkout_transfer_description:((pe=l.find(a=>a.correlative=="checkout_transfer_description"))==null?void 0:pe.description)??"",transfer_accounts:(ue=l.find(a=>a.correlative=="transfer_accounts"))!=null&&ue.description?JSON.parse((he=l.find(a=>a.correlative=="transfer_accounts"))==null?void 0:he.description):[{image:null,cc:"",cci:"",name:"",description:""}]}),[d,b]=h.useState("general"),q=(a,c,s)=>{const{value:o}=a.target,u=[...t[s]];u[c]=o,i(_=>({..._,[s]:u}))},P=a=>{i(c=>({...c,[a]:[...c[a],""]}))},T=(a,c)=>{const s=[...t[c]];s.splice(a,1),i(o=>({...o,[c]:s}))},xe=a=>{i(c=>({...c,location:{lat:a.latLng.lat(),lng:a.latLng.lng()}}))},ge=async a=>{a.preventDefault();try{await We.save([...Object.keys(t.email_templates).map(c=>{var s;return{correlative:c,name:((s=p.find(o=>o.correlative===c))==null?void 0:s.name)||c,description:t.email_templates[c]}}),{correlative:"phone_contact",name:"Teléfono de contacto",description:t.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:t.emails.join(",")},{correlative:"address",name:"Dirección",description:t.address},{correlative:"cintillo",name:"Cintillo",description:t.cintillo},{correlative:"copyright",name:"Copyright",description:t.copyright},{correlative:"opening_hours",name:"Horarios de atención",description:t.openingHours},{correlative:"support_phone",name:"Número de soporte",description:t.supportPhone},{correlative:"support_email",name:"Correo de soporte",description:t.supportEmail},{correlative:"privacy_policy",name:"Política de privacidad",description:t.privacyPolicy},{correlative:"terms_conditions",name:"Términos y condiciones",description:t.termsConditions},{correlative:"delivery_policy",name:"Políticas de envío",description:t.deliveryPolicy},{correlative:"saleback_policy",name:"Políticas de devolucion y cambio",description:t.salebackPolicy},{correlative:"phone_whatsapp",name:"Número de Whatsapp",description:t.phoneWhatsapp},{correlative:"message_whatsapp",name:"Mensaje de Whatsapp",description:t.messageWhatsapp},{correlative:"igv_checkout",name:"IGV en el checkout",description:t.igvCheckout},{correlative:"checkout_culqi",name:"Habilitar Culqi",description:t.checkout_culqi},{correlative:"checkout_culqi_name",name:"Nombre de la cuenta de Culqi",description:t.checkout_culqi_name},{correlative:"checkout_culqi_public_key",name:"Llave pública de Culqi",description:t.checkout_culqi_public_key},{correlative:"checkout_culqi_private_key",name:"Llave privada de Culqi",description:t.checkout_culqi_private_key},{correlative:"checkout_mercadopago",name:"Habilitar Mercadopago",description:t.checkout_mercadopago},{correlative:"checkout_mercadopago_name",name:"Nombre de la cuenta de Mercadopago",description:t.checkout_mercadopago_name},{correlative:"checkout_mercadopago_public_key",name:"Llave pública de Mercadopago",description:t.checkout_mercadopago_public_key},{correlative:"checkout_mercadopago_private_key",name:"Llave privada de Mercadopago",description:t.checkout_mercadopago_private_key},{correlative:"checkout_dwallet",name:"Habilitar Yape/Plin",description:t.checkout_dwallet},{correlative:"checkout_dwallet_qr",name:"QR Yape/Plin",description:t.checkout_dwallet_qr},{correlative:"checkout_dwallet_name",name:"Título Yape/Plin",description:t.checkout_dwallet_name},{correlative:"checkout_dwallet_description",name:"Descripción Yape/Plin",description:t.checkout_dwallet_description},{correlative:"checkout_transfer",name:"Habilitar Transferencia",description:t.checkout_transfer},{correlative:"transfer_accounts",name:"Cuentas Bancarias para Transferencia",description:JSON.stringify(t.transfer_accounts)},{correlative:"checkout_transfer_cci",name:"CCI Transferencia",description:t.checkout_transfer_cci},{correlative:"checkout_transfer_name",name:"Nombre Transferencia",description:t.checkout_transfer_name},{correlative:"checkout_transfer_description",name:"Descripción Transferencia",description:t.checkout_transfer_description},{correlative:"location",name:"Ubicación",description:`${t.location.lat},${t.location.lng}`}])}catch(c){console.error("Error al guardar los datos:",c)}};return e.jsx("div",{className:"card",children:e.jsxs("form",{className:"card-body",onSubmit:ge,children:[e.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${d==="general"?"active":""}`,onClick:()=>b("general"),type:"button",role:"tab",children:"Configuración general"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${d==="contact"?"active":""}`,onClick:()=>b("contact"),type:"button",role:"tab",children:"Información de Contacto"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${d==="checkout"?"active":""}`,onClick:()=>b("checkout"),type:"button",role:"tab",children:"Métodos de Pago"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${d==="policies"?"active":""}`,onClick:()=>b("policies"),type:"button",role:"tab",children:"Políticas y Términos"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${d==="location"?"active":""}`,onClick:()=>b("location"),type:"button",role:"tab",children:"Ubicación"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${d==="email"?"active":""}`,onClick:()=>b("email"),type:"button",role:"tab",children:"Email"})})]}),e.jsxs("div",{className:"tab-content",id:"generalTabsContent",children:[e.jsx("div",{className:`tab-pane fade ${d==="email"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"email_correlative",className:"form-label",children:"Tipo de Email"}),e.jsx("select",{id:"email_correlative",className:"form-select mb-3",value:m,onChange:a=>v(a.target.value),children:p.map(a=>e.jsx("option",{value:a.correlative,children:a.name||a.correlative},a.correlative))}),e.jsx(Me,{label:e.jsxs(e.Fragment,{children:["Plantilla de Email (HTML seguro, variables: ",e.jsx("code",{children:"{{variable}}"}),")",e.jsxs("small",{className:"d-block text-muted",children:["No se permite código PHP ni Blade. Solo variables seguras.",e.jsx("br",{}),C&&e.jsx("span",{children:"Cargando variables..."}),j&&e.jsx("span",{className:"text-danger",children:j}),!C&&!j&&e.jsxs(e.Fragment,{children:[e.jsx("b",{children:"Variables disponibles:"})," ",Object.keys(r).length===0?e.jsx("span",{children:"No hay variables para esta notificación."}):Object.entries(r).map(([a,c])=>e.jsxs("span",{style:{display:"inline-block",marginRight:8},children:[e.jsx("code",{children:`{{${a}}}`})," ",e.jsxs("span",{className:"text-muted",children:["(",c,")"]})," "]},a))]})]})]}),value:t.email_templates[m]||"",onChange:a=>i({...t,email_templates:{...t.email_templates,[m]:a}})})]})}),e.jsxs("div",{className:`tab-pane fade ${d==="general"?"show active":""}`,role:"tabpanel",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-2",children:[e.jsx("label",{htmlFor:"cintillo",className:"form-label",children:"Cintillo"}),e.jsx("textarea",{className:"form-control",id:"cintillo",value:t.cintillo,onChange:a=>i({...t,cintillo:a.target.value})})]}),e.jsxs("div",{className:"col-md-6 mb-2",children:[e.jsx("label",{htmlFor:"copyright",className:"form-label",children:"Copyright"}),e.jsx("textarea",{className:"form-control",id:"copyright",value:t.copyright,onChange:a=>i({...t,copyright:a.target.value})})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"Dirección"}),e.jsx("textarea",{className:"form-control",id:"address",value:t.address,onChange:a=>i({...t,address:a.target.value}),required:!0})]}),e.jsx("div",{className:"mb-2",children:e.jsx($e,{label:"Horarios de atencion",onChange:a=>i({...t,openingHours:a.target.value}),value:t.openingHours,required:!0})}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{htmlFor:"igvCheckout",className:"form-label",children:["IGV",e.jsx("small",{className:"d-block text-muted",children:"Dejar en 0 si no se quiere mostrar"})]}),e.jsx("input",{type:"number",step:.01,className:"form-control",id:"igvCheckout",value:t.igvCheckout,onChange:a=>i({...t,igvCheckout:a.target.value})})]})]})]}),e.jsxs("div",{className:"tab-content",id:"contactTabsContent",children:[e.jsxs("div",{className:`tab-pane fade ${d==="contact"?"show active":""}`,role:"tabpanel",children:[e.jsxs("div",{className:"row mb-2",children:[e.jsxs("div",{className:"col-md-6",children:[t.phones.map((a,c)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`phone-${c}`,className:"form-label",children:["Teléfono ",c+1]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"tel",className:"form-control",id:`phone-${c}`,value:a,onChange:s=>q(s,c,"phones"),required:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>T(c,"phones"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${c}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>P("phones"),children:"Agregar teléfono"})]}),e.jsxs("div",{className:"col-md-6",children:[t.emails.map((a,c)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`email-${c}`,className:"form-label",children:["Correo ",c+1]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",id:`email-${c}`,value:a,onChange:s=>q(s,c,"emails"),required:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>T(c,"emails"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`email-${c}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>P("emails"),children:"Agregar correo"})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"Número de soporte"}),e.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:t.supportPhone,onChange:a=>i({...t,supportPhone:a.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),e.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:t.supportEmail,onChange:a=>i({...t,supportEmail:a.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"phoneWhatsapp",className:"form-label",children:"Número de Whatsapp"}),e.jsx("input",{type:"tel",className:"form-control",id:"phoneWhatsapp",value:t.phoneWhatsapp,onChange:a=>i({...t,phoneWhatsapp:a.target.value}),required:!0})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"messageWhatsapp",className:"form-label",children:"Mensaje de Whatsapp"}),e.jsx("input",{type:"tel",className:"form-control",id:"messageWhatsapp",value:t.messageWhatsapp,onChange:a=>i({...t,messageWhatsapp:a.target.value}),required:!0})]})]}),e.jsx("div",{className:`tab-pane fade ${d==="checkout"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"nav flex-column nav-pills nav-pills-tab",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[e.jsx("a",{className:"nav-link active show mb-1",id:"v-culqi-tab","data-bs-toggle":"pill",href:"#v-culqi",role:"tab","aria-controls":"v-culqi","aria-selected":"true",children:"Culqi"}),e.jsx("a",{className:"nav-link mb-1",id:"v-mercadopago-tab","data-bs-toggle":"pill",href:"#v-mercadopago",role:"tab","aria-controls":"v-mercadopago","aria-selected":"false",children:"Mercado Pago"}),e.jsx("a",{className:"nav-link mb-1",id:"v-digital-wallet-tab","data-bs-toggle":"pill",href:"#v-digital-wallet",role:"tab","aria-controls":"v-digital-wallet","aria-selected":"false",children:"Yape / Plin"}),e.jsx("a",{className:"nav-link mb-1",id:"v-transfer-tab","data-bs-toggle":"pill",href:"#v-transfer",role:"tab","aria-controls":"v-transfer","aria-selected":"false",children:"Transferencia"})]})}),e.jsx("div",{className:"col-sm-9",children:e.jsxs("div",{className:"tab-content pt-0",children:[e.jsxs("div",{className:"tab-pane fade active show",id:"v-culqi",role:"tabpanel","aria-labelledby":"v-culqi-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-culqi",checked:t.checkout_culqi=="true",onChange:a=>i({...t,checkout_culqi:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-culqi",children:["Habilitar pago con Culqi",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Culqi "})]})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título del formulario"}),e.jsx("input",{type:"text",className:"form-control",value:t.checkout_culqi_name,onChange:a=>i({...t,checkout_culqi_name:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Pública"}),e.jsx("input",{type:"text",className:"form-control",value:t.checkout_culqi_public_key,onChange:a=>i({...t,checkout_culqi_public_key:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Privada"}),e.jsx("input",{type:"password",className:"form-control",value:t.checkout_culqi_private_key,onChange:a=>i({...t,checkout_culqi_private_key:a.target.value})})]})]}),e.jsxs("div",{className:"tab-pane fade",id:"v-mercadopago",role:"tabpanel","aria-labelledby":"v-mercadopago-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-mercadopago",checked:t.checkout_mercadopago=="true",onChange:a=>i({...t,checkout_mercadopago:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-mercadopago",children:["Habilitar pago con Mercado Pago",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Mercado Pago "})]})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título del formulario"}),e.jsx("input",{type:"text",className:"form-control",value:t.checkout_mercadopago_name,onChange:a=>i({...t,checkout_mercadopago_name:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Pública"}),e.jsx("input",{type:"text",className:"form-control",value:t.checkout_mercadopago_public_key,onChange:a=>i({...t,checkout_mercadopago_public_key:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Privada (Access Token)"}),e.jsx("input",{type:"password",className:"form-control",value:t.checkout_mercadopago_private_key,onChange:a=>i({...t,checkout_mercadopago_private_key:a.target.value})})]})]}),e.jsxs("div",{className:"tab-pane fade",id:"v-digital-wallet",role:"tabpanel","aria-labelledby":"v-digital-wallet-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-dwallet",checked:t.checkout_dwallet=="true",onChange:a=>i({...t,checkout_dwallet:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-dwallet",children:["Habilitar pago con Yape/Plin",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Yape/Plin "})]})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"QR"}),t.checkout_dwallet_qr?e.jsxs("div",{className:"position-relative",children:[e.jsx(_e,{content:"Eliminar QR",children:e.jsx("button",{className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px"},onClick:()=>i({...t,checkout_dwallet_qr:null}),children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsx("img",{src:`/assets/resources/${t.checkout_dwallet_qr}`,className:"img-thumbnail",style:{height:"200px",width:"auto"}})]}):e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:async a=>{const c=a.target.files[0];if(!c)return;a.target.value=null;const o=`qr-digital-wallet.${c.name.split(".").pop()}`,u=new FormData;u.append("image",c),u.append("name",o),await fe.save(u)&&i({...t,checkout_dwallet_qr:o})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título"}),e.jsx("input",{type:"text",className:"form-control",value:t.checkout_dwallet_name,onChange:a=>i({...t,checkout_dwallet_name:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("textarea",{className:"form-control",value:t.checkout_dwallet_description,onChange:a=>i({...t,checkout_dwallet_description:a.target.value})})]})]}),e.jsxs("div",{className:"tab-pane fade",id:"v-transfer",role:"tabpanel","aria-labelledby":"v-transfer-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-transfer",checked:t.checkout_transfer==="true",onChange:a=>i({...t,checkout_transfer:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-transfer",children:["Habilitar pago por transferencia",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por transferencia"})]})]})}),t.transfer_accounts.map((a,c)=>e.jsxs("div",{className:"mb-4 p-3 border rounded",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsxs("h5",{children:["Cuenta Bancaria #",c+1]}),c>0&&e.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>{const s=[...t.transfer_accounts];s.splice(c,1),i({...t,transfer_accounts:s})},children:"Eliminar Cuenta"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Imagen de la Cuenta"}),a.image?e.jsxs("div",{className:"position-relative",children:[e.jsx(_e,{content:"Eliminar Imagen",children:e.jsx("button",{className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px"},onClick:()=>{const s=[...t.transfer_accounts];s[c].image=null,i({...t,transfer_accounts:s})},children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsx("img",{src:`/assets/resources/${a.image}`,className:"img-thumbnail",style:{height:"200px",width:"auto"}})]}):e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:async s=>{const o=s.target.files[0];if(!o)return;s.target.value=null;const u=o.name.split(".").pop(),_=`transfer-account-${Date.now()}.${u}`,k=new FormData;if(k.append("image",o),k.append("name",_),!await fe.save(k))return;const ve=[...t.transfer_accounts];ve[c].image=_,i({...t,transfer_accounts:ve})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Número de Cuenta (CC)"}),e.jsx("input",{type:"text",className:"form-control",value:a.cc,onChange:s=>{const o=[...t.transfer_accounts];o[c].cc=s.target.value,i({...t,transfer_accounts:o})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Código de Cuenta Interbancario (CCI)"}),e.jsx("input",{type:"text",className:"form-control",value:a.cci,onChange:s=>{const o=[...t.transfer_accounts];o[c].cci=s.target.value,i({...t,transfer_accounts:o})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Nombre del Banco/Titular"}),e.jsx("input",{type:"text",className:"form-control",value:a.name,onChange:s=>{const o=[...t.transfer_accounts];o[c].name=s.target.value,i({...t,transfer_accounts:o})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("textarea",{className:"form-control",value:a.description,onChange:s=>{const o=[...t.transfer_accounts];o[c].description=s.target.value,i({...t,transfer_accounts:o})}})]})]},c)),e.jsx("button",{type:"button",className:"btn btn-primary mt-2",onClick:()=>{i({...t,transfer_accounts:[...t.transfer_accounts,{image:null,cc:"",cci:"",name:"",description:""}]})},children:"Agregar Otra Cuenta"})]})]})})]})}),e.jsxs("div",{className:`tab-pane fade ${d==="policies"?"show active":""}`,role:"tabpanel",children:[e.jsx("div",{className:"mb-2",children:e.jsx(x,{label:"Política de privacidad",value:t.privacyPolicy,onChange:a=>i({...t,privacyPolicy:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(x,{label:"Términos y condiciones",value:t.termsConditions,onChange:a=>i({...t,termsConditions:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(x,{label:"Políticas de envío",value:t.deliveryPolicy,onChange:a=>i({...t,deliveryPolicy:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(x,{label:"Políticas de devolución y cambio",value:t.salebackPolicy,onChange:a=>i({...t,salebackPolicy:a})})})]}),e.jsxs("div",{className:`tab-pane fade ${d==="location"?"show active":""}`,role:"tabpanel",children:[e.jsx(Ne,{googleMapsApiKey:Fe.GMAPS_API_KEY,children:e.jsx(ye,{mapContainerStyle:{width:"100%",height:"400px"},center:t.location,zoom:10,onClick:xe,children:e.jsx(Ce,{position:t.location})})}),e.jsx("small",{className:"form-text text-muted",children:"Haz clic en el mapa para seleccionar la ubicación."})]})]}),e.jsx("button",{type:"submit",className:"btn btn-primary mt-3",children:"Guardar"})]})})};Pe((l,n)=>{Te.createRoot(l).render(e.jsx(we,{...n,title:"Datos Generales",children:e.jsx(De,{...n})}))});
