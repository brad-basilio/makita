import{j as t}from"./AboutSimple-Cf8x2fCZ.js";import{r as i}from"./index-BH53Isel.js";import{a as O}from"./adjustTextColor-FzLvY4Q1.js";import{G as T}from"./Global-ErywZRdd.js";import{T as q}from"./tag-BY9rARtP.js";import{C as z}from"./chevron-left-B2s3ZsB7.js";import{C as G}from"./chevron-right-Ckt5D2ka.js";import"./index-yBjzXJbu.js";import"./createLucideIcon-Cy5Ya80P.js";const re=({items:f,data:n})=>{const k=(e=>{const r=["true","si"],a=["false","no"];return r.includes(e==null?void 0:e.toLowerCase())?!0:(a.includes(e==null?void 0:e.toLowerCase()),!1)})(n==null?void 0:n.infiniteLoop),[s,m]=i.useState(1),o=i.useRef(null),l=i.useRef(!1),g=i.useRef(0),c=i.useRef(0),u=[f[f.length-1],...f,f[0]],C=["center","left","right"],M=["yes","true","si"],b=C.includes(n==null?void 0:n.paginationAlignment),y=b?n==null?void 0:n.paginationAlignment:"center",j=M.includes(n==null?void 0:n.showNavigation);j&&(n==null||n.navigationAlignment);const x=()=>{m(e=>(e+1)%u.length)},w=()=>{m(e=>e===0?u.length-1:e-1)},E=e=>{l.current=!0,g.current=e.touches[0].pageX,o.current.style.transition="none"},I=e=>{if(!l.current)return;const r=e.touches[0].pageX-g.current;c.current=-s*100+r/window.innerWidth*100,o.current.style.transform=`translateX(${c.current}%)`},R=()=>{if(!l.current)return;l.current=!1,o.current.style.transition="transform 0.5s ease-in-out",Math.abs((c.current+s*100)*(window.innerWidth/100))>20?c.current>-s*100?w():x():m(s),o.current.style.transform=`translateX(-${s*100}%)`},A=e=>{l.current=!0,g.current=e.pageX,o.current.style.transition="none"},L=e=>{if(!l.current)return;const r=e.pageX-g.current;c.current=-s*100+r/window.innerWidth*100,o.current.style.transform=`translateX(${c.current}%)`},v=()=>{if(!l.current)return;l.current=!1,o.current.style.transition="transform 0.5s ease-in-out",Math.abs((c.current+s*100)*(window.innerWidth/100))>20?c.current>-s*100?w():x():m(s),o.current.style.transform=`translateX(-${s*100}%)`},_=()=>{l.current&&v()};k&&i.useEffect(()=>{const e=setInterval(()=>{x()},5e3);return()=>clearInterval(e)},[s]),i.useEffect(()=>{s===0?setTimeout(()=>{o.current.style.transition="none",m(u.length-2),requestAnimationFrame(()=>{o.current.style.transform=`translateX(-${(u.length-2)*100}%)`,setTimeout(()=>{o.current.style.transition="transform 0.5s ease-in-out"},50)})},500):s===u.length-1&&setTimeout(()=>{o.current.style.transition="none",m(1),requestAnimationFrame(()=>{o.current.style.transform=`translateX(-${1*100}%)`,setTimeout(()=>{o.current.style.transition="transform 0.5s ease-in-out"},50)})},500)},[s]);const N=i.useRef([]);i.useEffect(()=>{N.current.forEach(e=>{e&&O(e)})},[f]);const[p,S]=i.useState(!1),D=e=>{const r=new window.Image;r.crossOrigin="Anonymous",r.src=e,r.onload=function(){const a=document.createElement("canvas");a.width=r.width,a.height=r.height;const $=a.getContext("2d");$.drawImage(r,0,0,r.width,r.height);const h=$.getImageData(0,0,a.width,a.height);let X=0;for(let d=0;d<h.data.length;d+=4){const F=h.data[d],V=h.data[d+1],W=h.data[d+2],B=(F*299+V*587+W*114)/1e3;X+=B}const P=X/(h.data.length/4);S(P<128)}};return i.useEffect(()=>{const e=u[s];e!=null&&e.bg_image&&D(`/storage/images/slider/${e.bg_image}`)},[s,u]),t.jsxs("div",{className:"relative w-full mx-auto",children:[t.jsx("div",{className:"overflow-hidden relative cursor-grab ease",onMouseDown:A,onMouseMove:L,onMouseUp:v,onMouseLeave:_,onTouchStart:E,onTouchMove:I,onTouchEnd:R,children:t.jsx("div",{ref:o,className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${s*100}%)`},children:u.map((e,r)=>t.jsxs("div",{className:"w-full h-[589px] lg:h-auto  flex-shrink-0 relative",children:[t.jsx("img",{src:`/storage/images/slider/${e.bg_image||"undefined"}`,alt:e.name,loading:"lazy",className:`absolute top-0  left-0 h-full md:h-full  w-screen md:w-full object-cover ${(n==null?void 0:n.imageBgPosition)||"object-right-25 "} md:object-center  z-0  md:mr-20 lg:mr-0`}),(n==null?void 0:n.overlayMobile)&&t.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-white"}),t.jsx("div",{className:`relative w-full px-primary 2xl:px-0 2xl:max-w-7xl  mx-auto  h-[530px] md:h-[600px] flex flex-col items-start justify-end md:justify-center ${p?"text-white":"customtext-neutral-dark"}`,children:t.jsxs("div",{className:"flex flex-col gap-5 lg:gap-10 items-start",children:[t.jsx("h2",{className:`${T.APP_CORRELATIVE==="stechperu"?"w-9/12  md:w-full md:max-w-md ":"w-full  md:w-full md:max-w-lg "} font-title text-[40px] leading-tight sm:text-5xl md:text-6xl tracking-normal font-bold ${p?"text-white":"customtext-neutral-dark"}`,style:{textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e.name}),t.jsx("p",{className:`${T.APP_CORRELATIVE==="stechperu"?"w-8/12":"w-full"} md:w-full md:max-w-md text-lg leading-tight font-paragraph ${p?"text-white":"customtext-neutral-dark"}`,style:{textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e.description}),e.button_text&&e.button_link&&t.jsx("div",{className:"flex flex-row gap-5 md:gap-10 justify-center items-start",children:t.jsxs("a",{href:e.button_link,ref:a=>N.current[r]=a,className:"bg-custom border-none flex flex-row items-center gap-3 px-10 py-4 text-base rounded-md tracking-wide font-medium hover:opacity-90 transition-all duration-300",children:[e.button_text,(n==null?void 0:n.icon_button)&&t.jsx(q,{width:"1.25rem",className:"transform rotate-90"})]})})]})})]},`slide-${r}`))})}),j&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 ",children:t.jsx("button",{onClick:w,className:"bg-secondary rounded-r-lg text-white w-12 h-12 flex items-center justify-center transition-colors duration-300",children:t.jsx(z,{width:"1rem"})})}),t.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 ",children:t.jsx("button",{onClick:x,className:"bg-secondary rounded-l-lg text-white w-12 h-12 flex items-center justify-center transition-colors duration-300",children:t.jsx(G,{width:"1rem"})})})]}),b&&t.jsx("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto ",children:t.jsx("div",{className:"relative",children:t.jsx("div",{className:`absolute bottom-4 ${y==="left"?"inset-x-0 left-0":y==="right"?"right-0":"left-1/2 transform -translate-x-1/2"}`,children:f.map((e,r)=>t.jsx("div",{className:`inline-flex mx-1 w-3 h-3 rounded-full ${s===r+1?"bg-white h-5 w-5 lg:w-6 lg:h-6 items-center justify-center border-2 border-primary":"bg-secondary"}`,onClick:()=>m(r+1),children:s===r+1&&t.jsx("div",{className:"w-3 h-3 bg-primary rounded-full items-center justify-center"})},`dot-${r}`))})})})]})};export{re as default};
